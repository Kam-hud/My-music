<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue 3 触碰高亮显示隐藏按钮</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.2rem;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            position: relative;
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            border-color: #3498db;
        }

        .card.highlighted {
            background-color: #e8f4fc;
            border-color: #3498db;
        }

        .card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .card p {
            color: #7f8c8d;
            line-height: 1.5;
        }

        .hidden-buttons {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 8px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .card:hover .hidden-buttons,
        .card.highlighted .hidden-buttons {
            opacity: 1;
        }

        .btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-edit {
            background-color: #3498db;
            color: white;
        }

        .btn-edit:hover {
            background-color: #2980b9;
        }

        .btn-delete {
            background-color: #e74c3c;
            color: white;
        }

        .btn-delete:hover {
            background-color: #c0392b;
        }

        .instructions {
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-top: 30px;
            border-radius: 0 8px 8px 0;
        }

        .instructions h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .instructions ul {
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 8px;
            color: #555;
        }

        .code-block {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
            font-family: "Courier New", monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }

        .highlight {
            color: #81e6d9;
        }

        .vue3-features {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .feature {
            background: white;
            border-radius: 8px;
            padding: 15px;
            width: 48%;
            margin-bottom: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .feature h4 {
            color: #3498db;
            margin-bottom: 8px;
        }

        @media (max-width: 768px) {
            .feature {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <div id="app">
        <div class="container">
            <h1>Vue 3 触碰高亮显示隐藏按钮</h1>
            <p class="subtitle">使用Composition API实现更优雅的解决方案</p>

            <div class="cards-container">
                <div v-for="(card, index) in cards" :key="card.id" class="card"
                    :class="{ highlighted: card.highlighted }" @mouseenter="highlightCard(index)"
                    @mouseleave="unhighlightCard(index)">
                    <h3>{{ card.title }}</h3>
                    <p>{{ card.content }}</p>

                    <div class="hidden-buttons">
                        <button class="btn btn-edit" @click.stop="editCard(card)">
                            编辑
                        </button>
                        <button class="btn btn-delete" @click.stop="deleteCard(index)">
                            删除
                        </button>
                    </div>
                </div>
            </div>

            <div class="instructions">
                <h3>Vue 3 实现原理</h3>
                <ul>
                    <li>
                        使用Vue 3的<code>ref</code>和<code>reactive</code>创建响应式数据
                    </li>
                    <li>
                        通过<code>@mouseenter</code>和<code>@mouseleave</code>事件处理鼠标悬停
                    </li>
                    <li>利用<code>:class</code>绑定动态添加高亮样式</li>
                    <li>使用<code>@click.stop</code>阻止事件冒泡</li>
                    <li>通过CSS过渡实现平滑的显示/隐藏效果</li>
                </ul>

                <div class="code-block">
                    // Vue 3 Composition API<br />
                    <span class="highlight">import { ref } from 'vue';</span><br /><br />

                    setup() {<br />
                    &nbsp;&nbsp;const cards = <span class="highlight">ref</span>([<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;{ id: 1, title: '卡片1', content: '内容',
                    <span class="highlight">highlighted: false</span> }<br />
                    &nbsp;&nbsp;]);<br /><br />

                    &nbsp;&nbsp;const highlightCard = (index) => {<br />
                    &nbsp;&nbsp;&nbsp;&nbsp;cards.value[index].highlighted = true;<br />
                    &nbsp;&nbsp;};<br /><br />

                    &nbsp;&nbsp;return { cards, highlightCard };<br />
                    }
                </div>
            </div>

            <div class="vue3-features">
                <div class="feature">
                    <h4>Composition API 优势</h4>
                    <p>
                        Vue 3的Composition
                        API允许更灵活的逻辑组织和复用，使代码更清晰易维护。
                    </p>
                </div>

                <div class="feature">
                    <h4>更好的性能</h4>
                    <p>
                        Vue 3通过优化虚拟DOM和编译器，提供了更快的渲染速度和更小的包大小。
                    </p>
                </div>

                <div class="feature">
                    <h4>TypeScript 支持</h4>
                    <p>Vue 3使用TypeScript重写，提供更好的TypeScript支持和类型推断。</p>
                </div>

                <div class="feature">
                    <h4>多个根元素</h4>
                    <p>Vue 3支持组件有多个根元素，不再需要额外的包装元素。</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref } = Vue;

        createApp({
            setup() {
                // 使用ref创建响应式数据
                const cards = ref([
                    {
                        id: 1,
                        title: "Vue 3 基础",
                        content: "学习Vue 3的基本概念和核心功能",
                        highlighted: false,
                    },
                    {
                        id: 2,
                        title: "Composition API",
                        content: "掌握Vue 3的组合式API使用方法",
                        highlighted: false,
                    },
                    {
                        id: 3,
                        title: "响应式系统",
                        content: "深入了解Vue 3的响应式数据系统",
                        highlighted: false,
                    },
                    {
                        id: 4,
                        title: "Teleport 组件",
                        content: "使用Teleport实现组件内容传送",
                        highlighted: false,
                    },
                    {
                        id: 5,
                        title: "Suspense 组件",
                        content: "使用Suspense处理异步组件",
                        highlighted: false,
                    },
                    {
                        id: 6,
                        title: "Vue 3 项目实战",
                        content: "通过实际项目巩固Vue 3知识",
                        highlighted: false,
                    },
                ]);

                const highlightCard = (index) => {
                    cards.value[index].highlighted = true;
                };

                const unhighlightCard = (index) => {
                    cards.value[index].highlighted = false;
                };

                const editCard = (card) => {
                    alert(`编辑卡片: ${card.title}`);
                };

                const deleteCard = (index) => {
                    if (confirm(`确定要删除 "${cards.value[index].title}" 吗？`)) {
                        cards.value.splice(index, 1);
                    }
                };

                return {
                    cards,
                    highlightCard,
                    unhighlightCard,
                    editCard,
                    deleteCard,
                };
            },
        }).mount("#app");
    </script>
</body>

</html>